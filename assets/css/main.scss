---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import 
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    
    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands",
    "vendor/magnific-popup/magnific-popup"
;
/* --- 自定义背景设置 Start --- */

/* 1. 设置全屏固定背景图 */
body {
    background-image: url('/images/background.jpg'); /* 确保路径对应你的图片 */
    background-size: cover;       /* 图片铺满全屏 */
    background-position: center;  /* 图片居中 */
    background-attachment: fixed; /* 关键：图片固定，不随滚动条移动 */
    background-repeat: no-repeat;
}

/* 2. 让网页默认的容器背景变透明，否则会挡住图片 */
.page, .page__content, .archive, .author__urls-wrapper {
    background-color: transparent !important; 
    box-shadow: none !important;
}

/* 3. 定义我们想要变色的主容器 */
/* 注意：academicpages 的主内容框通常是 .page__inner-wrap 或者 #main */
#main-content-wrapper {
    /* 初始状态：完全透明或者半透明 */
    background-color: rgba(255, 255, 255, 0); 
    padding: 2em; /* 加点内边距，好看一点 */
    border-radius: 8px; /* 圆角 */
    transition: background-color 0.1s ease-out; /* 让变化丝滑一点 */
    min-height: 100vh;
}

/* 修复侧边栏如果不透明的问题 */
.sidebar {
    background-color: rgba(255, 255, 255, 0.8) !important;
    border-radius: 8px;
    padding: 10px;
}

/* --- 自定义背景设置 End --- */
/* --- 顶部导航栏美化 --- */
.masthead {
    /* 背景改为半透明白色 (0.2 是透明度) */
    background-color: rgba(255, 255, 255, 0.1) !important;
    /* 关键：添加毛玻璃模糊效果 */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    /* 去掉底部的分割线 */
    border-bottom: none !important;
    /* 让它悬浮在最顶层 */
    position: sticky; 
    top: 0;
    z-index: 999;
}

/* 导航栏文字颜色：改为白色以适应深色背景 */
.masthead__menu-item a {
    color: #ffffff !important;
    text-shadow: 0 1px 2px rgba(0,0,0,0.5); /* 加点阴影防止看不清 */
}
/* 鼠标悬停时的颜色 */
.masthead__menu-item a:hover {
    color: #f2f2f2 !important;
    text-decoration: underline;
}
/* --- 全局文字颜色调整 --- */
body, h1, h2, h3, h4, h5, h6, p, li, a, .sidebar {
    color: #ffffff !important; /* 强制变白 */
}

/* 给文字加一层淡淡的阴影，确保在任何背景图上都看清 */
body {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
}

/* 链接颜色也改为白色或亮色 */
a {
    color: #87ceeb !important; /* 天蓝色链接，比较显眼 */
}
a:hover {
    color: #ffffff !important;
}
