/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */
---
# Only the main Sass file needs front matter (the dashes are important)
---

@charset "utf-8";

/* ==========================================================================
   1. 核心模块引入 (不要动这部分，否则样式会崩)
   ========================================================================== */
@import "vendor/breakpoint/breakpoint";
@import "themes";
@import "theme/{{ site.site_theme | default: 'default' }}";
@import "include/mixins";
@import "vendor/susy/susy";
@import "layout/reset";
@import "layout/base";
@import "include/utilities";
@import "layout/tables";
@import "layout/buttons";
@import "layout/notices";
@import "layout/masthead";
@import "layout/navigation";
@import "layout/footer";
@import "syntax";
@import "layout/forms";
@import "layout/page";
@import "layout/archive";
@import "layout/sidebar";
@import "vendor/font-awesome/fontawesome";
@import "vendor/font-awesome/solid";
@import "vendor/font-awesome/brands";
@import "vendor/magnific-popup/magnific-popup";

/* ==========================================================================
   2. SHIJIE FENG - PARALLAX FIXED (基于您的要求)
   ========================================================================== */

/* --- A. 全局背景：视差滚动的核心 --- */
body {
    background-image: url('/images/background.jpg'); /* 背景图 */
    background-size: cover;
    background-position: center;
    background-attachment: fixed; /* 关键：固定背景，实现视差 */
    background-repeat: no-repeat;
    /* 全局强制白字 */
    color: #ffffff !important;
}

/* 强力清除默认容器的白色背景，否则会挡住图片 */
.page, .page__content, .archive, .author__urls-wrapper, .page__footer {
    background-color: transparent !important;
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
}

/* --- B. 顶部导航栏 (浅灰色玻璃 + 白字) --- */
.masthead, .masthead__inner-wrap {
    /* 浅灰色半透明 (White Glass) */
    background-color: rgba(255, 255, 255, 0.15) !important; 
    backdrop-filter: blur(10px); /* 毛玻璃模糊 */
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1) !important;
}

.masthead {
    position: sticky;
    top: 0;
    z-index: 999;
}

/* 导航栏文字：白色 */
.masthead__menu-item a {
    color: #ffffff !important;
    font-weight: 700;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5); /* 加点阴影防止背景太亮看不清 */
}

/* 悬停效果：发光 */
.masthead__menu-item a:hover {
    color: #ffffff !important;
    text-shadow: 0 0 10px rgba(255, 255, 255, 1);
    text-decoration: none !important;
    background: transparent !important;
}

/* --- C. 中间内容区 (渐变主体) --- */
/* 这里我们只设初始透明，颜色变化交给 JS */
#main-content-wrapper {
    background-color: rgba(0, 0, 0, 0); /* 初始完全透明 */
    transition: background-color 0.1s ease-out; /* 丝滑过渡 */
    padding: 30px;
    border-radius: 8px;
    min-height: 100vh;
}

/* =========================================
   D. Sidebar 位置终极修正 (Padding 法) - 您指定的代码
   ========================================= */

/* 1. 强行给侧边栏内容区上方加 120px 的隐形填充 */
/* 这会把 "Shijie Feng" 这个名字直接往下挤，避开导航栏 */
.sidebar__content {
    padding-top: 140px !important; /* 我稍微改大了一点点(140)以防万一，您可以改回120 */
    position: relative; /* 确保定位参照正确 */
}

/* 2. 确保侧边栏本身不带背景色，且层级正确 */
.sidebar {
    background-color: transparent !important;
    border: none !important;
    z-index: 10; /* 必须比 Masthead (999) 小 */
    margin-top: 0 !important; /* 防止其他的 margin 干扰 */
}

/* 3. 再次确保名字的样式 */
.author__name {
    margin-top: 20px !important; /* 给名字再多加点额外的呼吸空间 */
    color: #fff !important;
    text-shadow: 0 2px 5px rgba(0,0,0,0.9);
    font-size: 1.8em !important;
}

/* 头像加个框，好看点 */
.author__avatar img {
    border: 2px solid rgba(255,255,255,0.7);
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.5);
}

/* --- E. 底部文字 --- */
.page__footer-copyright {
    color: rgba(255, 255, 255, 0.7) !important;
}

/* --- F. 通用链接 --- */
a {
    color: #87ceeb !important; /* 正文里的链接保持天蓝色 */
}
a:hover {
    color: #ffffff !important;
}
/* 必须再次强制覆盖导航栏，防止被上面影响 */
.masthead__menu-item a {
    color: #ffffff !important;
}
