---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */
@charset "utf-8";

/* ==========================================================================
   1. 必须保留的引用 (DO NOT DELETE)
   ========================================================================== */
@import "vendor/breakpoint/breakpoint";
@import "themes";
@import "theme/{{ site.site_theme | default: 'default' }}";
@import "include/mixins";
@import "vendor/susy/susy";
@import "layout/reset";
@import "layout/base";
@import "include/utilities";
@import "layout/tables";
@import "layout/buttons";
@import "layout/notices";
@import "layout/masthead";
@import "layout/navigation";
@import "layout/footer";
@import "syntax";
@import "layout/forms";
@import "layout/page";
@import "layout/archive";
@import "layout/sidebar";
@import "vendor/font-awesome/fontawesome";
@import "vendor/font-awesome/solid";
@import "vendor/font-awesome/brands";
@import "vendor/magnific-popup/magnific-popup";

/* ==========================================================================
   2. SHIJIE FENG - FINAL LOGIC FIX (逻辑修复版)
   ========================================================================== */

/* --- A. 全局去白 (强力清洗) --- */
/* 把所有可能带有白色背景的容器全部设为透明 */
body, .page, .page__content, .archive, .author__urls-wrapper, .page__footer {
    background-color: transparent !important;
    background: transparent !important;
    box-shadow: none !important;
}

/* 全局背景图 */
body {
    background-image: url('/images/background.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    color: #ffffff !important; /* 全局白字 */
}

/* --- B. 核心：JS 渐变区域 (千万别加 !important) --- */
/* 这是 JS 要控制的 ID，我们只给它一个初始值 */
#main-content-wrapper {
    background-color: rgba(0, 0, 0, 0); /* 初始完全透明 */
    transition: background-color 0.1s ease-out; /* 让 JS 变化丝滑 */
    padding: 20px;
    border-radius: 8px;
    min-height: 100vh;
}

/* --- C. 顶部导航栏 (Masthead) --- */
/* 导航栏需要一点点背景色来衬托文字，但不能是实心白 */
.masthead, .masthead__inner-wrap {
    background-color: rgba(255, 255, 255, 0.05) !important; /* 5% 的极淡白色 */
    backdrop-filter: blur(8px); /* 毛玻璃 */
    -webkit-backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
    box-shadow: none !important;
}

.masthead {
    position: sticky;
    top: 0;
    z-index: 999;
}

/* --- D. 导航栏文字与悬停 (解决蓝色问题) --- */
/* 1. 默认状态：纯白 */
.masthead__menu-item a {
    color: #ffffff !important;
    font-weight: 700;
}

/* 2. 悬停状态：纯白 + 发光 (覆盖默认的蓝色) */
.masthead__menu-item a:hover {
    color: #ffffff !important; 
    text-shadow: 0 0 8px rgba(255, 255, 255, 1); /* 发光效果 */
    text-decoration: none !important;
    background: transparent !important; /* 防止悬停出现背景块 */
}

/* --- E. 底部 Footer --- */
.page__footer, .page__footer footer {
    background-color: transparent !important;
    border: none !important;
}
.page__footer-copyright {
    color: rgba(255, 255, 255, 0.5) !important;
}

/* --- F. 侧边栏 (Sidebar) 修复 --- */
.sidebar__content {
    padding-top: 140px !important; /* 把内容挤下来 */
    position: relative;
}
.sidebar {
    background: transparent !important;
    border: none !important;
    z-index: 10;
}
.author__name {
    color: #fff !important;
    text-shadow: 0 2px 5px rgba(0,0,0,0.8);
    font-size: 1.8em !important;
}

/* --- G. 通用链接 --- */
/* 正文里的链接用天蓝色，方便识别 */
a {
    color: #87ceeb !important;
}
a:hover {
    color: #ffffff !important;
    text-decoration: none;
}
/* 再次确保导航栏链接不受影响 */
.masthead__menu-item a {
    color: #ffffff !important;
}
