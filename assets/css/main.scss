/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */
---
# Only the main Sass file needs front matter
---

@charset "utf-8";

/* ==========================================================================
   1. 基础模块引入 (保持原样，不要动)
   ========================================================================== */
@import "vendor/breakpoint/breakpoint";
@import "themes";
@import "theme/{{ site.site_theme | default: 'default' }}";
@import "include/mixins";
@import "vendor/susy/susy";
@import "layout/reset";
@import "layout/base";
@import "include/utilities";
@import "layout/tables";
@import "layout/buttons";
@import "layout/notices";
@import "layout/masthead";
@import "layout/navigation";
@import "layout/footer";
@import "syntax";
@import "layout/forms";
@import "layout/page";
@import "layout/archive";
@import "layout/sidebar";
@import "vendor/font-awesome/fontawesome";
@import "vendor/font-awesome/solid";
@import "vendor/font-awesome/brands";
@import "vendor/magnific-popup/magnific-popup";

/* ==========================================================================
   2. SHIJIE FENG - PARALLAX THEME SETUP (视差滚动修正版)
   ========================================================================== */

/* --- A. 核心：让背景图显现 --- */
/* 1. 把背景图放在 body 上，并固定住 (Fixed) 实现视差感 */
body {
    background-image: url('/images/background.jpg');
    background-size: cover;      /* 铺满全屏 */
    background-position: center; /* 居中显示 */
    background-attachment: fixed;/* 关键：背景固定，内容滚动 */
    background-repeat: no-repeat;
    background-color: #000;      /* 图片加载前的底色 */
    color: #ffffff !important;   /* 全局强制白字 */
}

/* 2. 【关键】把所有挡在图片前面的容器背景全部掏空 (变透明) */
html, .page, .page__content, .archive, .author__urls-wrapper {
    background-color: transparent !important;
    background: transparent !important;
    box-shadow: none !important;
}

/* --- B. 内容容器 (Parallax Fade-in 主体) --- */
/* 这里我们不设背景色，只设 padding，背景色交给 JS 动态添加 */
#main-content-wrapper {
    background-color: rgba(0, 0, 0, 0); /* 初始状态：完全透明 */
    transition: background-color 0.2s ease-out; /* 让颜色变化丝滑 */
    padding: 40px;      /* 给文字留出呼吸空间 */
    border-radius: 8px; /* 圆角看起来更现代 */
    min-height: 100vh;  /* 保证至少占满一屏 */
    margin-top: 20px;
}

/* --- C. 顶部导航栏 (浅灰背景 + 白字) --- */
.masthead, .masthead__inner-wrap {
    /* 您要求的“浅灰色背景”，这里用半透明的深灰，否则白字看不清 */
    /* 如果一定要浅灰(light gray)，字就得变黑。为了白字，这里用半透明黑灰 */
    background-color: rgba(60, 60, 60, 0.7) !important; 
    backdrop-filter: blur(10px); /* 毛玻璃效果 */
    -webkit-backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255,255,255,0.1) !important;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2) !important;
}

.masthead {
    position: sticky;
    top: 0;
    z-index: 999; /* 保证在最上层 */
}

/* 导航栏文字 */
.masthead__menu-item a {
    color: #ffffff !important; /* 纯白文字 */
    font-weight: 700;
}
.masthead__menu-item a:hover {
    color: #ffffff !important;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.9); /* 悬停发光 */
    text-decoration: none !important;
}

/* --- D. 侧边栏修复 (防止遮挡) --- */
.sidebar__content {
    /* 增加顶部距离，防止被导航栏盖住 */
    padding-top: 120px !important; 
    position: relative;
}
.sidebar {
    background: transparent !important;
    border: none !important;
    z-index: 10;
}

/* 侧边栏名字和头像美化 */
.author__name {
    color: #fff !important;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8); /* 加阴影防背景干扰 */
    font-size: 1.8em !important;
    font-weight: bold;
}
.author__avatar img {
    border: 3px solid rgba(255,255,255,0.5); /* 半透明白边框 */
    border-radius: 50%; /* 圆形头像 */
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

/* --- E. 底部 Footer (透明) --- */
.page__footer {
    background: transparent !important;
    color: rgba(255, 255, 255, 0.6) !important;
    margin-top: 50px;
}

/* --- F. 链接颜色统一 --- */
a {
    color: #87ceeb !important; /* 正文链接淡蓝色 */
    text-decoration: none;
}
a:hover {
    color: #ffffff !important;
}
/* 必须再次覆盖导航栏，防止冲突 */
.masthead__menu-item a { color: #ffffff !important; }
