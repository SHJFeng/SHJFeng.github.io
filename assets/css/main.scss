---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import 
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    
    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands",
    "vendor/magnific-popup/magnific-popup"
;
/* ==========================================================================
   SHIJIE FENG - CUSTOM THEME OVERRIDES (CLEAN VERSION)
   ========================================================================== */

/* --- 1. 全局背景图设置 --- */
body {
    background-image: url('/images/background.jpg'); /* 背景图路径 */
    background-size: cover;       /* 铺满 */
    background-position: center;  /* 居中 */
    background-attachment: fixed; /* 固定不滚动 */
    background-repeat: no-repeat;
    /* 全局文字强制变白，带阴影 */
    color: #ffffff !important;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
}

/* 让默认的容器透明，否则会挡住背景图 */
.page, .page__content, .archive, .author__urls-wrapper, #main-content-wrapper {
    background-color: transparent !important;
    box-shadow: none !important;
}

/* --- 2. 顶部导航栏 (Masthead) 深度透明化 --- */
/* 关键：同时选中外层和内层，强制去除背景色 */
.masthead, 
.masthead__inner-wrap {
    background-color: rgba(255, 255, 255, 0.1) !important; /* 10%透明度的白 */
    backdrop-filter: blur(10px); /* 毛玻璃效果 */
    -webkit-backdrop-filter: blur(10px);
    border: none !important;
    box-shadow: none !important;
}

/* 固定导航栏在顶部 */
.masthead {
    position: sticky;
    top: 0;
    z-index: 999; /* 保证层级最高 */
    border-bottom: 1px solid rgba(255,255,255,0.1) !important;
}

/* 导航栏文字样式 */
.masthead__menu-item a {
    color: #ffffff !important;
    font-weight: 700; /* 加粗 */
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}
.masthead__menu-item a:hover {
    color: #87ceeb !important; /* 悬停变天蓝色 */
    text-decoration: none;
}

/* --- 3. 底部 Footer 深度透明化 --- */
/* 关键：把 footer 的各层级全部设为透明 */
.page__footer, 
.page__footer footer, 
.page__footer-copyright {
    background-color: transparent !important; 
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    margin-top: 0 !important;
}

/* 底部文字颜色 */
.page__footer-copyright {
    color: rgba(255, 255, 255, 0.6) !important; /* 浅灰白 */
    text-align: center;
}

/* --- 4. 侧边栏 (Sidebar) 修复与美化 --- */

/* 位置修复：利用 Padding 把内容挤下来，避开导航栏 */
.sidebar__content {
    padding-top: 140px !important; 
    position: relative;
}

/* 去除侧边栏自带的白框 */
.sidebar {
    background: transparent !important;
    border: none !important;
    opacity: 1 !important;
    z-index: 10;
}

/* 头像美化 */
.author__avatar img {
    border-radius: 12px !important; /* 圆角矩形 */
    border: 2px solid rgba(255,255,255,0.5); 
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

/* 名字美化 */
.author__name {
    color: #fff !important;
    font-size: 1.8em !important;
    margin-top: 15px !important;
    text-shadow: 0 2px 5px rgba(0,0,0,1);
}
.author__bio {
    color: #ddd !important;
}

/* 链接区域背景 */
.author__urls-wrapper {
    background: rgba(0, 0, 0, 0.4) !important; /* 半透明黑底，让字能看清 */
    padding: 15px !important;
    border-radius: 8px;
}
.author__urls li a {
    color: #fff !important;
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

/* --- 5. 通用元素颜色修正 --- */
h1, h2, h3, h4, h5, h6, p, li {
    color: #ffffff !important;
}
a {
    color: #87ceeb !important; /* 链接天蓝色 */
    text-decoration: none;
}
a:hover {
    color: #ffffff !important;
}
