---
---
/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */
/* ==========================================================================
   1. 核心模块引入 (不要动这部分，否则样式会崩)
   ========================================================================== */
@import "vendor/breakpoint/breakpoint";
@import "themes";
@import "theme/{{ site.site_theme | default: 'default' }}";
@import "include/mixins";
@import "vendor/susy/susy";
@import "layout/reset";
@import "layout/base";
@import "include/utilities";
@import "layout/tables";
@import "layout/buttons";
@import "layout/notices";
@import "layout/masthead";
@import "layout/navigation";
@import "layout/footer";
@import "syntax";
@import "layout/forms";
@import "layout/page";
@import "layout/archive";
@import "layout/sidebar";
@import "vendor/font-awesome/fontawesome";
@import "vendor/font-awesome/solid";
@import "vendor/font-awesome/brands";
@import "vendor/magnific-popup/magnific-popup";

/* ==========================================================================
   SHIJIE FENG - FIXED VERSION (恢复渐变 + 去除白条)
   ========================================================================== */

/* --- 1. 全局基础设置 --- */
body {
    background-image: url('/images/background.jpg'); /* 确保路径对 */
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    /* 全局文字白色 */
    color: #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8); /* 稍微减弱阴影，防止Sitemap模糊 */
}

/* 让所有默认容器透明，不挡背景 */
.page, .page__content, .archive, .author__urls-wrapper {
    background-color: transparent !important;
    box-shadow: none !important;
}

/* --- 2. 核心：恢复 JS 渐变控制 (关键修改) --- */
/* 这里千万不要加 background-color !important，否则 JS 就废了 */
#main-content-wrapper {
    /* 默认透明，等着 JS 来给它上色 */
    background-color: rgba(0, 0, 0, 0); 
    padding: 2em;
    border-radius: 8px;
    transition: background-color 0.1s ease-out; 
    min-height: 100vh;
}

/* --- 3. 顶部导航栏 (Masthead) 强力去白 --- */
/* 必须同时穿透外层 (.masthead) 和内层 (.masthead__inner-wrap) */
.masthead, 
.masthead__inner-wrap {
    background-color: rgba(255, 255, 255, 0.1) !important; /* 10%透明度的微白 */
    background: rgba(255, 255, 255, 0.1) !important;       /* 双重保险 */
    border: none !important;
    box-shadow: none !important;
    backdrop-filter: blur(10px); /* 毛玻璃 */
    -webkit-backdrop-filter: blur(10px);
}

.masthead {
    position: sticky;
    top: 0;
    z-index: 999;
    border-bottom: 1px solid rgba(255,255,255,0.1) !important;
}

/* 导航栏文字 */
.masthead__menu-item a {
    color: #ffffff !important;
    font-weight: 700;
}
.masthead__menu-item a:hover {
    color: #87ceeb !important;
}

/* --- 4. 底部 Footer 强力去白 --- */
.page__footer, 
.page__footer footer, 
.page__footer-copyright {
    background-color: transparent !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}
.page__footer-copyright {
    color: rgba(255, 255, 255, 0.5) !important;
    text-shadow: none !important; /* 去掉底部的阴影防止模糊 */
}

/* --- 5. 侧边栏与文字修复 (已修改为响应式) --- */
.sidebar__content {
    position: relative;
    /* 1. 默认设置（针对手机端）：去除巨大的顶部留白 */
    padding-top: 10px !important; 
}

/* 2. 针对电脑端（屏幕宽度大于 1024px）：才加上 140px 的避让距离 */
@media screen and (min-width: 1024px) {
    .sidebar__content {
        padding-top: 140px !important; /* 避开电脑端的导航栏 */
    }
}

.sidebar {
    background: transparent !important;
    border: none !important;
    z-index: 10;
}

/* 名字和头像 */
.author__name {
    color: #fff !important;
    text-shadow: 0 2px 5px rgba(0,0,0,1);
    font-size: 1.8em !important;
    margin-top: 10px !important;
}

/* 如果你没有放照片，为了防止空白框，可以隐藏头像容器或者保留样式但实际上不显示 */
.author__avatar img {
    border-radius: 10px !important;
    border: 2px solid rgba(255,255,255,0.6);
    /* 如果彻底没照片，且不想显示空框，可以加下面这行：*/
    /* display: none; */ 
}

/* 通用文字颜色修正 */
h1, h2, h3, h4, h5, h6, p, li {
    color: #ffffff !important;
}
a {
    color: #87ceeb !important;
    text-decoration: none;
}
a:hover {
    color: #ffffff !important;
}
